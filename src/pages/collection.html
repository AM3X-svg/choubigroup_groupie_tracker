<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pokédex - Collection</title>
    <link rel="stylesheet" href="/static/css/collection.css">
</head>
<body>
    <input type="checkbox" id="toggle-search" class="search-state-checkbox" style="display: none;">

    <header class="header">
        <a href="/index">Accueil</a>
        <a href="/collection">Collection</a>
        <a href="/ressources">Ressources</a>
        <a href="/categorie">Catégorie</a>
        <a href="/aPropos">A-Propos</a>
        <a href="#" class="header-icon lucide-heart-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-heart"><path d="M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5"/></svg>
        </a>
        
        <label for="toggle-search" class="header-icon lucide-search-icon" style="cursor: pointer;">
            <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-search"><path d="m21 21-4.34-4.34"/><circle cx="11" cy="11" r="8"/></svg>
        </label>
    </header>

    <div id="search-overlay" class="search-overlay">
        <div class="search-container">
            <div class="search-top-bar">
                <form action="/collection" method="get">
                    <input type="text" name="search" placeholder="Nom du Pokémon">
                    <button type="submit">Rechercher</button>
                </form>
                <a href="/collection" class="clear-search-btn">Réinitialiser</a>
            </div>

            <hr>

            <div class="result-list-container">
                {{range .}}
                    <div class="search-sprites">
                        <img src="{{.Sprites.Regular}}" alt="{{.Name.Fr}}" width="100">
                        <p>{{.Name.Fr}}</p>
                        <small>n°{{.PokedexId}}</small>
                    </div>
                {{else}}
                    <p class="no-result-msg">Aucun Pokémon trouvé.</p>
                {{end}}
            </div>
        </div>
    </div>

    <main>
        <section class="collection-grid">
            {{range .}}
                <div class="pokemon-sprite">
                    <img src="{{.Sprites.Regular}}" alt="{{.Name.Fr}}">
                    <div class="pokemon-sprites-infos">
                        <p>nom : {{.Name.Fr}} {{.Name.Jp}}</p>
                        <p>génération : {{.Generation}}</p>
                        <p>hp : {{.Stats.Hp}}</p>
                    </div>
                </div>
            {{end}}
        </section>
    </main>
    
</body>
</html>