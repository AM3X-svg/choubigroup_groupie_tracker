<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{.Pokemon.Name.Fr}} ‚Ä¢ D√©tails</title>
    <link rel="stylesheet" href="/static/css/styles.css">
</head>

<body>

<input type="checkbox" id="toggle-search" class="search-state-checkbox" style="display:none;">
<input type="checkbox" id="toggle-favs" class="state-checkbox" style="display: none;">
<input type="checkbox" id="toggle-auth" class="state-checkbox" style="display: none;">

<header class="header">
    <a href="/index">Accueil</a>
    <a href="/collection">Collection</a>
    <a href="/ressources">Ressources</a>
    <a href="/categorie">Cat√©gorie</a>
    <a href="/aPropos">A-Propos</a>
    <label for="toggle-favs" class="header-icon-transparent">
        <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-heart"><path d="M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5"/></svg>
    </label>

    <label for="toggle-auth" class="header-icon-transparent">
        <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-user"><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
    </label>

    <label for="toggle-search" class="header-icon-transparent" style="cursor: pointer;">
        <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-search"><path d="m21 21-4.34-4.34"/><circle cx="11" cy="11" r="8"/></svg>
    </label>
</header>

<main class="detail-page">
    <a class="backlink" href="/ressources">‚Üê Retour</a>

    <section class="detail-card">
        <div class="detail-top">
            <img class="detail-img" src="{{.Pokemon.Sprites.Regular}}" alt="{{.Pokemon.Name.Fr}}">

            <div class="detail-info">
                <h1>{{.Pokemon.Name.Fr}}</h1>
                <p><strong>ID :</strong> #{{.Pokemon.PokedexId}}</p>
                <p><strong>G√©n√©ration :</strong> {{.Pokemon.Generation}}</p>
                <p><strong>Cat√©gorie :</strong> {{.Pokemon.Category}}</p>

                <div class="types">
                    {{range .Pokemon.Types}}
                    <span class="type">
              {{if .Image}}<img src="{{.Image}}" alt="{{.Name}}" width="18" height="18" style="vertical-align:middle;">{{end}}
              {{.Name}}
            </span>
                    {{end}}
                </div>

                <form method="POST" action="/favoris/toggle">
                    <input type="hidden" name="id" value="{{.Pokemon.PokedexId}}">
                    <button class="fav-btn" type="submit">
                        {{if .IsFavorite}}‚ù§Ô∏è Retirer des favoris{{else}}ü§ç Ajouter aux favoris{{end}}
                    </button>
                </form>

                <div style="margin-top:10px;">
                    <p><strong>Taille :</strong> {{.Pokemon.Height}}</p>
                    <p><strong>Poids :</strong> {{.Pokemon.Weight}}</p>
                    <p><strong>Taux capture :</strong> {{.Pokemon.CatchRate}}</p>
                    <p><strong>Niveau 100 :</strong> {{.Pokemon.Level100}}</p>
                </div>

            </div>
        </div>
    </section>

    <section class="detail-card">
        <h2>Sprites</h2>
        <div class="sprites-row">
            <div>
                <p>Regular</p>
                <img class="mini-sprite" src="{{.Pokemon.Sprites.Regular}}" alt="Regular">
            </div>
            <div>
                <p>Shiny</p>
                <img class="mini-sprite" src="{{.Pokemon.Sprites.Shiny}}" alt="Shiny">
            </div>
            {{if .Pokemon.Sprites.Gmax.Regular}}
            <div>
                <p>Gmax</p>
                <img class="mini-sprite" src="{{.Pokemon.Sprites.Gmax.Regular}}" alt="Gmax">
            </div>
            {{end}}
        </div>
    </section>

    <section class="detail-card">
        <h2>Talents</h2>
        <ul>
            {{range .Pokemon.Talents}}
            <li>{{.Name}} {{if .Tc}}(Talent cach√©){{end}}</li>
            {{end}}
        </ul>
    </section>

    <section class="detail-card">
        <h2>Stats</h2>
        <ul class="detail-grid">
            <li><strong>HP</strong><span>{{.Pokemon.Stats.Hp}}</span></li>
            <li><strong>ATK</strong><span>{{.Pokemon.Stats.Atk}}</span></li>
            <li><strong>DEF</strong><span>{{.Pokemon.Stats.Def}}</span></li>
            <li><strong>SP. ATK</strong><span>{{.Pokemon.Stats.SpeAtk}}</span></li>
            <li><strong>SP. DEF</strong><span>{{.Pokemon.Stats.SpeDef}}</span></li>
            <li><strong>VIT</strong><span>{{.Pokemon.Stats.Vit}}</span></li>
        </ul>
    </section>

    <section class="detail-card">
        <h2>R√©sistances</h2>
        <ul>
            {{range .Pokemon.Resistances}}
            <li>{{.Name}} : x{{.Multiplier}}</li>
            {{end}}
        </ul>
    </section>

    <section class="detail-card">
        <h2>√âvolutions</h2>

        <h3>Pr√©-√©volutions</h3>
        {{if .Pokemon.Evolution.Pre}}
        <ul>
            {{range .Pokemon.Evolution.Pre}}
            <li>#{{.PokedexId}} - {{.Name}} ({{.Condition}})</li>
            {{end}}
        </ul>
        {{else}}
        <p>Aucune</p>
        {{end}}

        <h3>√âvolutions suivantes</h3>
        {{if .Pokemon.Evolution.Next}}
        <ul>
            {{range .Pokemon.Evolution.Next}}
            <li>#{{.PokedexId}} - {{.Name}} ({{.Condition}})</li>
            {{end}}
        </ul>
        {{else}}
        <p>Aucune</p>
        {{end}}

        <h3>M√©ga</h3>
        {{if .Pokemon.Evolution.Mega}}
        <ul>
            {{range .Pokemon.Evolution.Mega}}
            <li>
                Orbe : {{.Orbe}}
                <div class="sprites-row" style="margin-top:8px;">
                    <img class="mini-sprite" src="{{.SpritesMega.Regular}}" alt="Mega Regular">
                    <img class="mini-sprite" src="{{.SpritesMega.Shiny}}" alt="Mega Shiny">
                </div>
            </li>
            {{end}}
        </ul>
        {{else}}
        <p>Aucune</p>
        {{end}}
    </section>

    <section class="detail-card">
        <h2>Groupes d‚Äô≈ìufs</h2>
        <p>
            {{range $i, $g := .Pokemon.EggGroups}}
            {{if $i}}, {{end}}{{$g}}
            {{end}}
        </p>
    </section>

    <section class="detail-card">
        <h2>Sexe</h2>
        <p><strong>M√¢le :</strong> {{.Pokemon.Sexe.Male}}%</p>
        <p><strong>Femelle :</strong> {{.Pokemon.Sexe.Female}}%</p>
    </section>

    <section class="detail-card">
        <h2>Formes</h2>
        {{if .Pokemon.Formes}}
        <ul>
            {{range .Pokemon.Formes}}
            <li>{{.Region}} - {{.Name.Fr}}</li>
            {{end}}
        </ul>
        {{else}}
        <p>Aucune</p>
        {{end}}
    </section>

</main>

</body>
</html>
